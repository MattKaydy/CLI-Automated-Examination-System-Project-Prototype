-- Last updated: 2020-12-08
-- Versionï¼š005
-- Change Log:
-- Change STUDENT_ANSWER_DESC from LONG to VARCHAR (5000)

DROP TABLE GRADES;
DROP TABLE SUBJECT_NAME;
DROP TABLE STUDENT_ANSWER;
DROP TABLE STUDENT_SCORE;
DROP TABLE EXAM_QUESTIONS;
DROP TABLE EXAM;
DROP TABLE CLASS;
DROP TABLE SUBJECT;
DROP TABLE STUDENT;
DROP TABLE TEACHER;



-- create table - STUDENT
CREATE TABLE STUDENT
(STUDENT_ID VARCHAR (10) NOT NULL,
FNAME VARCHAR (50),
LNAME VARCHAR (50),
PASSWORD VARCHAR (20) NOT NULL,
CLASS_ID VARCHAR (15) NOT NULL,
CONSTRAINT PK_STUDENT PRIMARY KEY (STUDENT_ID)
);
 
-- create table - TEACHER
CREATE TABLE TEACHER
(TEACHER_ID VARCHAR (10) NOT NULL,
FNAME VARCHAR (50),
LNAME VARCHAR (50),
PASSWORD VARCHAR (20) NOT NULL,
CONSTRAINT PK_TEACHER PRIMARY KEY (TEACHER_ID)
);
 
-- create table - CLASS
CREATE TABLE CLASS
(CLASS_ID VARCHAR (15) NOT NULL,
CLASS_NAME VARCHAR (20),
TEACHER_ID VARCHAR (10),
CONSTRAINT PK_CLASS PRIMARY KEY (CLASS_ID),
CONSTRAINT FK_CLASS FOREIGN KEY (TEACHER_ID) REFERENCES TEACHER (TEACHER_ID)
);
 
-- create table - SUBJECT
CREATE TABLE SUBJECT
(STUDENT_ID VARCHAR (10) NOT NULL,
SUBJECT_ID VARCHAR (3) NOT NULL,
TEACHER_ID VARCHAR (10) NOT NULL,
CONSTRAINT PK_SUBJECT PRIMARY KEY (STUDENT_ID,TEACHER_ID),
CONSTRAINT FK_SUBJECT_TO_TEA FOREIGN KEY (TEACHER_ID) REFERENCES TEACHER (TEACHER_ID),
CONSTRAINT FK_SUBJECT_TO_STU FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT (STUDENT_ID)
);
 
-- create table - SUBJECT_NAME
CREATE TABLE SUBJECT_NAME
(SUBJECT_NAME VARCHAR (30) NOT NULL,
SUBJECT_ID VARCHAR (15) NOT NULL
);
 
-- create table - EXAM
CREATE TABLE EXAM
(EXAM_ID NUMBER (7) NOT NULL,
CLASS_ID VARCHAR (15) NOT NULL,
SUBJECT_ID VARCHAR (15) NOT NULL,
TEST_NO VARCHAR (7) NOT NULL,
TEACHER_ID VARCHAR (10),
EXAM_DATE DATE NOT NULL,
EXAM_TIME VARCHAR (9) NOT NULL,
EXAM_DURATION VARCHAR (19) NOT NULL,
CONSTRAINT PK_EXAM PRIMARY KEY (EXAM_ID),
CONSTRAINT FK_EXAM_TO_TEACHER FOREIGN KEY (TEACHER_ID) REFERENCES TEACHER (TEACHER_ID),
CONSTRAINT FK_EXAM_TO_CLASS FOREIGN KEY (CLASS_ID) REFERENCES CLASS (CLASS_ID)
);
 
-- create table - EXAM_QUESTIONS
CREATE TABLE EXAM_QUESTIONS
(EXAM_ID NUMBER (7) NOT NULL,
QUESTION_NO NUMBER (11) NOT NULL,
IS_COMPULSORY NUMBER (1) NOT NULL,
FULL_MARK NUMBER (9) NOT NULL,
QUESTION_TYPE VARCHAR (20) NOT NULL,
QUESTION_DESC VARCHAR (5000) NOT NULL,
ANSWER LONG,
CONSTRAINT PK_EXAM_QUESTIONS PRIMARY KEY (EXAM_ID, QUESTION_NO),
CONSTRAINT FK_EXAM_QUESTIONS FOREIGN KEY (EXAM_ID) REFERENCES EXAM (EXAM_ID)
);
 
-- create table - STUDENT_ANSWER
CREATE TABLE STUDENT_ANSWER
(EXAM_ID NUMBER (7) NOT NULL,
QUESTION_NO NUMBER (11) NOT NULL,
STUDENT_ID VARCHAR (10) NOT NULL,
STUDENT_ANSWER_DESC VARCHAR (5000),
CONSTRAINT PK_STUDENT_ANSWER PRIMARY KEY (EXAM_ID, QUESTION_NO, STUDENT_ID),
CONSTRAINT FK_STUDENT_ANSWER_TO_EXAM FOREIGN KEY (EXAM_ID) REFERENCES EXAM (EXAM_ID),
CONSTRAINT FK_STUDENT_ANSWER_TO_STU FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT (STUDENT_ID)
);
 
-- create table - STUDENT_SCORE
CREATE TABLE STUDENT_SCORE
(EXAM_ID NUMBER (7) NOT NULL,
QUESTION_NO NUMBER (11) NOT NULL,
STUDENT_ID VARCHAR (10) NOT NULL,
SCORE NUMBER (9),
CONSTRAINT PK_STUDENT_SCORE PRIMARY KEY (EXAM_ID, QUESTION_NO, STUDENT_ID),
CONSTRAINT FK_STUDENT_SCORE_TO_EXAM FOREIGN KEY (EXAM_ID) REFERENCES EXAM (EXAM_ID),
CONSTRAINT FK_STUDENT_SCORE_TO_STU FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT (STUDENT_ID)
);
 
 
 
-- create table - GRADES
CREATE TABLE GRADES
(MAXVALUE NUMBER (8) NOT NULL,
GRADE VARCHAR (5) NOT NULL,
CONSTRAINT PK_GRADES PRIMARY KEY (MAXVALUE)
);
 
-- insert records into STUDENT
INSERT INTO STUDENT VALUES ('s000000001', 'Dewey', 'Sims', 'abcd1', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000002', 'Jemima', 'Gregory', 'abcd2', 'c00000000000001');
INSERT INTO STUDENT VALUES ('s000000003', 'Simon', 'Bennett', 'abcd3', 'c00000000000001');
INSERT INTO STUDENT VALUES ('s000000004', 'Kayleigh', 'Lloyd', 'abcd4', 'c00000000000001');
INSERT INTO STUDENT VALUES ('s000000005', 'Kira', 'Cohen', 'abcd5', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000006', 'Lisa', 'Martin', 'abcd6', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000007', 'Taylor', 'Cox', 'abcd7', 'c00000000000003');
INSERT INTO STUDENT VALUES ('s000000008', 'Thea', 'Ross', 'abcd8', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000009', 'Declan', 'Peters', 'abcd9', 'c00000000000004');
INSERT INTO STUDENT VALUES ('s000000010', 'Nannie', 'Reynolds', 'abcd10', 'c00000000000002');
INSERT INTO STUDENT VALUES ('s000000011', 'Andrew', 'Bartlett', 'abcd11', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000012', 'Chelsea', 'Preston', 'abcd12', 'c00000000000003');
INSERT INTO STUDENT VALUES ('s000000013', 'Brandon', 'Nelson', 'abcd13', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000014', 'Isabella', 'Bowman', 'abcd14', 'c00000000000002');
INSERT INTO STUDENT VALUES ('s000000015', 'Milo', 'Cross', 'abcd15', 'c00000000000005');
INSERT INTO STUDENT VALUES ('s000000016', 'Beatrice', 'Henderson', 'abcd16', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000017', 'Edwin', 'Allen', 'abcd17', 'c00000000000003');
INSERT INTO STUDENT VALUES ('s000000018', 'Jessie', 'Tickner', 'abcd18', 'c00000000000000');
INSERT INTO STUDENT VALUES ('s000000019', 'Orla', 'Reed', 'abcd19', 'c00000000000004');
INSERT INTO STUDENT VALUES ('s000000020', 'Miles', 'Mullins', 'abcd20', 'c00000000000000');
 
-- insert records into TEACHER
INSERT INTO TEACHER VALUES ('t000000001', 'Thacker', 'Lucas', 'abcdt1');
INSERT INTO TEACHER VALUES ('t000000002', 'Bobby', 'Haynes', 'abcdt2');
INSERT INTO TEACHER VALUES ('t000000003', 'Warren', 'Chambers', 'abcdt3'); 
INSERT INTO TEACHER VALUES ('t000000004', 'Kendal', 'Jones', 'abcdt4');
INSERT INTO TEACHER VALUES ('t000000005', 'Lawrence', 'Stannard', 'abcdt5');
INSERT INTO TEACHER VALUES ('t000000006', 'Malina', 'Newton', 'abcdt6');
 
-- insert records into CLASS
INSERT INTO CLASS VALUES ('c00000000000000', '6A', 't000000003');
INSERT INTO CLASS VALUES ('c00000000000001', '6B', 't000000004');
INSERT INTO CLASS VALUES ('c00000000000002', '6C', 't000000002');
INSERT INTO CLASS VALUES ('c00000000000003', '6D', 't000000001');
INSERT INTO CLASS VALUES ('c00000000000004', '6E',  't000000005');
 
-- insert records into SUBJECT
INSERT INTO SUBJECT VALUES ('s000000001', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000001', '003', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000005', '001', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000005', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000005', '003', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000006', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000008', '001', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000008', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000011', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000011', '003', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000013', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000013', '003', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000016', '001', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000016', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000018', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000020', '001', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000020', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000020', '003', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000002', '002', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000003', '001', 't000000004');
INSERT INTO SUBJECT VALUES ('s000000003', '002', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000003', '003', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000004', '002', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000004', '003', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000010', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000010', '003', 't000000006');
INSERT INTO SUBJECT VALUES ('s000000014', '002', 't000000002');
INSERT INTO SUBJECT VALUES ('s000000007', '001', 't000000004');
INSERT INTO SUBJECT VALUES ('s000000007', '002', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000007', '003', 't000000006');
INSERT INTO SUBJECT VALUES ('s000000012', '002', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000012', '003', 't000000006');
INSERT INTO SUBJECT VALUES ('s000000017', '001', 't000000004');
INSERT INTO SUBJECT VALUES ('s000000017', '002', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000009', '002', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000009', '003', 't000000001');
INSERT INTO SUBJECT VALUES ('s000000019', '002', 't000000003');
INSERT INTO SUBJECT VALUES ('s000000019', '003', 't000000001');
 
-- insert records into SUBJECT_ NAME VALUES
INSERT INTO SUBJECT_NAME VALUES ('Chinese', '001');
INSERT INTO SUBJECT_NAME VALUES ('English', '002');
INSERT INTO SUBJECT_NAME VALUES ('BAFS', '003');
 
-- insert records into GRADES
INSERT INTO GRADES VALUES (100, 'A+');
INSERT INTO GRADES VALUES (95, 'A');
INSERT INTO GRADES VALUES (90, 'A-');
INSERT INTO GRADES VALUES (85, 'B+');
INSERT INTO GRADES VALUES (80, 'B');
INSERT INTO GRADES VALUES (75, 'B-');
INSERT INTO GRADES VALUES (70, 'C+');
INSERT INTO GRADES VALUES (65, 'C');
INSERT INTO GRADES VALUES (60, 'C-');
INSERT INTO GRADES VALUES (55, 'D+');
INSERT INTO GRADES VALUES (50, 'D');
INSERT INTO GRADES VALUES (45, 'D-');
INSERT INTO GRADES VALUES (40, 'F');

-- insert records into EXAM
INSERT INTO EXAM VALUES (1, 'c00000000000000', '001', '001', 't000000001', DATE '2020-01-01', '14:00', '120');
INSERT INTO EXAM VALUES (2, 'c00000000000001', '001', '002', 't000000001', DATE '2020-01-01', '14:00', '120');
 
 -- insert records into EXAM_QUESTIONS
INSERT INTO EXAM_QUESTIONS VALUES (1, 1, 1, 25, '0', '1+1=?', '2');
INSERT INTO EXAM_QUESTIONS VALUES (1, 2, 1, 5, '1', '2+2=?', '4');
INSERT INTO EXAM_QUESTIONS VALUES (1, 3, 1, 5, '2', '3+2=?', '5');
INSERT INTO EXAM_QUESTIONS VALUES (1, 4, 1, 5, '2', '4+2=?', '6');
INSERT INTO EXAM_QUESTIONS VALUES (1, 5, 1, 5, '2', '5+2=?', '7');
INSERT INTO EXAM_QUESTIONS VALUES (1, 6, 0, 5, '2', '6+2=?', '8');

INSERT INTO EXAM_QUESTIONS VALUES (2, 1, 1, 5, '2', '4+4=?', '8');

-- insert records into STUDENT_ANSWER
-- ANSWER for s000000005 attending Exam ID 1
INSERT INTO STUDENT_ANSWER VALUES (1, 1, 's000000005', '1');
INSERT INTO STUDENT_ANSWER VALUES (1, 2, 's000000005', '2');
INSERT INTO STUDENT_ANSWER VALUES (1, 3, 's000000005', '3');
INSERT INTO STUDENT_ANSWER VALUES (1, 4, 's000000005', '4');
INSERT INTO STUDENT_ANSWER VALUES (1, 5, 's000000005', '5');
INSERT INTO STUDENT_ANSWER VALUES (1, 6, 's000000005', '6');

-- ANSWER for s000000008 attending Exam ID 1
INSERT INTO STUDENT_ANSWER VALUES (1, 1, 's000000008', '10');
INSERT INTO STUDENT_ANSWER VALUES (1, 2, 's000000008', '11');
INSERT INTO STUDENT_ANSWER VALUES (1, 3, 's000000008', '12');
INSERT INTO STUDENT_ANSWER VALUES (1, 4, 's000000008', '13');
INSERT INTO STUDENT_ANSWER VALUES (1, 5, 's000000008', '14');
INSERT INTO STUDENT_ANSWER VALUES (1, 6, 's000000008', '15');


-- INSERT STUDENT_SCORE for s000000005
INSERT INTO STUDENT_SCORE VALUES (1, 1, 's000000005', 25);
INSERT INTO STUDENT_SCORE VALUES (1, 2, 's000000005', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 3, 's000000005', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 4, 's000000005', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 5, 's000000005', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 6, 's000000005', 5);

-- INSERT STUDENT_SCORE for s000000008
INSERT INTO STUDENT_SCORE VALUES (1, 1, 's000000008', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 2, 's000000008', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 3, 's000000008', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 4, 's000000008', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 5, 's000000008', 5);
INSERT INTO STUDENT_SCORE VALUES (1, 6, 's000000008', 5);


COMMIT;
